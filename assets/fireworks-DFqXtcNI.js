import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css             */class r{constructor(t,i){this.x=t,this.y=i}add(t){return new r(this.x+t.x,this.y+t.y)}sub(t){return new r(this.x-t.x,this.y-t.y)}mul(t){return new r(this.x*t,this.y*t)}div(t){return new r(this.x/t,this.y/t)}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}length_sq(){return this.x*this.x+this.y*this.y}normalize(){return this.div(this.length())}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}set_mag(t){return this.normalize().mul(t)}clone(){return new r(this.x,this.y)}static from_angle(t){return new r(Math.cos(t),Math.sin(t))}}function h(s,t){return Math.random()*(t-s)+s}class M{constructor(){this.particles=[]}update(t){for(let i=this.particles.length-1;i>=0;i--)if(this.particles[i].update(t)){this.particles.splice(i,1);continue}}render(t){for(let i of this.particles)i.render(t)}}class y{constructor(t,i,e,o,v,k=5){this.system=t,this.position=i,this.velocity=e,this.size=o,this.color=v,this.lifetime=k}update(t){return this.position=this.position.add(this.velocity.mul(t)),this.lifetime!==-1?(this.lifetime-=t,this.lifetime<=0):!1}render(t){t.beginPath(),t.fillStyle="#"+this.color,t.arc(this.position.x,this.position.y,this.size,0,2*Math.PI),t.fill()}}class S extends y{constructor(t,i,e){super(t,i,e,2,"634100",-1),this.system=t,this.position=i,this.velocity=e,this.colors=["FF2A2A","FF7A18","FFD23F","A8FF3E","00E676","2DE2E6","2979FF","8E2DE2","FF4FD8"],this.history=[]}update(t){if(this.velocity=this.velocity.add(new r(0,1e3).mul(t)),this.history.push(this.position.clone()),this.history.length>10&&this.history.shift(),super.update(t),this.velocity.y>0){const i=this.colors[Math.floor(Math.random()*this.colors.length)];for(let e=0;e<300;e++)this.system.particles.push(new _(this.system,this.position,r.from_angle(Math.random()*Math.PI*2).set_mag(h(10,150)),i));return!0}return!1}render(t){this.history.forEach((i,e)=>{t.beginPath(),t.fillStyle="#"+this.color+(255/10*e).toString(16).padStart(2,"0"),t.arc(i.x,i.y,2,0,2*Math.PI),t.fill()}),super.render(t)}}class _ extends y{constructor(t,i,e,o){super(t,i,e,3,o,h(.3,1.5)),this.system=t,this.position=i,this.velocity=e,this.color=o,this.highlights=["FFFFFF","FFF1B8","CFE9FF"],this.sparkle=!1,this.initial_lifetime=this.lifetime,this.sparkle_timer=h(.05,.15),this.sparkle_start=h(.25,.75)}update(t){return this.velocity=this.velocity.add(new r(0,200).mul(t)),this.size-=this.size/this.lifetime*t,this.lifetime<=this.initial_lifetime*this.sparkle_start&&(this.sparkle_timer-=t,this.sparkle_timer<=0&&(this.sparkle=!this.sparkle,this.sparkle_timer=h(.05,.15))),super.update(t)}render(t){let i="FF",e="CC";this.sparkle&&(i="00",e="00"),t.beginPath(),t.fillStyle="#"+this.color+i,t.arc(this.position.x,this.position.y,this.size,0,2*Math.PI),t.fill(),t.fillStyle="#"+this.highlights[Math.floor(Math.random()*this.highlights.length)]+e,t.arc(this.position.x,this.position.y,this.size*.6,0,2*Math.PI),t.fill()}}const m=document.getElementById("canvas"),l=m.getContext("2d");let d=l.canvas.width,c=l.canvas.height,u=0,a=1,f=h(.5,1.5),n,p=!1;function F(){l.canvas.width=window.innerWidth,l.canvas.height=window.innerHeight,d=l.canvas.width,c=l.canvas.height}addEventListener("resize",s=>{F(),w()});addEventListener("load",()=>{F(),n=new M,g()});addEventListener("keydown",s=>{s.key===" "&&(p=!p)});function g(){w(),requestAnimationFrame(g)}function w(){let s=(performance.now()-u)/1e3;p&&(s=0),u=performance.now();const t=l.createLinearGradient(0,0,0,m.height);if(t.addColorStop(0,"#040919"),t.addColorStop(.75,"#060d27"),t.addColorStop(.9,"#091337"),t.addColorStop(1,"#131c45"),l.fillStyle=t,l.fillRect(0,0,d,c),a+=s,a>f){f=h(.5,2.5),a=0;let i=h(1,8);for(let e=0;e<i;e++)n.particles.push(new S(n,new r(h(-200,200)+d/2,c),new r(h(-250,250),h(-1e3,-1300))))}n.update(s),n.render(l)}
